# Android 知识点
---
## Basic
- Android SDK 工具将您的代码 — 连同任何数据和资源文件 — 编译到一个 APK：Android 软件包。一个 APK 文件包含 Android 应用的所有内容，它是基于 Android 系统的设备用来安装应用的文件
- 安装到设备后，每个 Android 应用都运行在自己的安全沙箱内
	- Android 操作系统是一种多用户 Linux 系统，其中的每个应用都是一个不同的用户
	- 默认情况下，系统会为每个应用分配一个唯一的 Linux 用户 ID（该 ID 仅由系统使用，应用并不知晓）。系统为应用中的所有文件设置权限，使得只有分配给该应用的用户 ID 才能访问这些文件
	- 每个进程都具有自己的虚拟机 (VM)，因此应用代码是在与其他应用隔离的环境中运行；
	- 默认情况下，每个应用都在其自己的 Linux 进程内运行。Android 会在需要执行任何应用组件时启动该进程，然后在不再需要该进程或系统必须为其他应用恢复内存时关闭该进程。
	- ***每个应用都只能访问执行其工作所需的组件，而不能访问其他组件。 这样便营造出一个非常安全的环境，在这个环境中，应用无法访问系统中其未获得权限的部分不过，应用仍然可以通过一些途径与其他应用共享数据以及访问系统服务：***
		1.	可以安排两个应用共享同一 Linux 用户 ID，在这种情况下，它们能够相互访问彼此的文件。 为了节省系统资源，可以安排具有相同用户 ID 的应用在同一 Linux 进程中运行，并共享同一 VM（应用还必须使用相同的证书签署）
		2. 应用可以请求访问设备数据（如用户的联系人、短信、可装载存储装置 [SD 卡]、相机、蓝牙等）的权限。 用户必须明确授予这些权限。 如需了解详细信息，请参阅 使用系统权限
- 应用组件：Activity、服务、内容提供程序、广播接收器
- Android系统在单独的进程中运行每个应用，且其文件权限会限制应用对其他应用的访问
- 任何应用都可以启动其他应用的组件，不过应用无法直接启动其他应用中的组件。因此，要想启动其他应用中的组件，必须向系统传递一则消息，说明想要启动特定组件的 Intent。 系统随后便会启动该组件
- AndroidManifest.xml 文件（“清单”文件）用于确认组件存在，应用必须在此文件中声明其所有组件

## Resources（res/ 目录）

|目录|资源类型|
|:-|:-|
|animator/|用于定义属性动画的 XML 文件|
|anim/|定义渐变动画的 XML 文件。（属性动画也可以保存在此目录中，但是为了区分这两种类型，属性动画首选 animator/ 目录。）|
|color/|用于定义颜色状态列表的 XML 文件|
|drawable/|	位图文件（.png、.9.png、.jpg、.gif）或编译为以下可绘制对象资源子类型的 XML 文件：*位图文件、九宫格（可调整大小的位图）、状态列表、形状、动画可绘制对象、其他可绘制对象、请参阅 可绘制对象资源*|
|mipmap/|适用于不同启动器图标密度的可绘制对象文件|
|layout/|用于定义用户界面布局的 XML 文件|
|menu/|用于定义应用菜单（如选项菜单、上下文菜单或子菜单）的 XML 文件|
|raw/|要以原始形式保存的任意文件。要使用原始 InputStream 打开这些资源，请使用资源 ID（即 R.raw.filename）调用 Resources.openRawResource()，但是，如需访问原始文件名和文件层次结构，则可以考虑将某些资源保存在 assets/ 目录下（而不是 res/raw/）。assets/ 中的文件没有资源 ID，因此您只能使用 AssetManager 读取这些文件|
|values/|包含字符串、整型数和颜色等简单值的 XML 文件。其他 res/ 子目录中的 XML 资源文件是根据 XML 文件名定义单个资源，而 values/ 目录中的文件可描述多个资源。对于此目录中的文件，<resources> 元素的每个子元素均定义一个资源。例如，<string> 元素创建 R.string 资源，<color> 元素创建 R.color 资源。由于每个资源均用其自己的 XML 元素定义，因此您可以根据自己的需要命名文件，并将不同的资源类型放在一个文件中。但是，为了清晰起见，可能需要将独特的资源类型放在不同的文件中。 例如，对于可在此目录中创建的资源，下面给出了相应的文件名约定：arrays.xml，用于资源数组（类型化数组）、colors.xml：颜色值、dimens.xml：尺寸值、strings.xml：字符串值、styles.xml：样式|
|xml/|可以在运行时通过调用 Resources.getXML() 读取的任意 XML 文件。各种 XML 配置文件（如可搜索配置）都必须保存在此处|

## 项目结构
- .gradle/ .idea/ Android Studio自动生成的一些文件
- 模块名称/
	- build/ 包含构建输出。
	- libs/ 包含私有库。
	- src/ 包含模块的所有代码和资源文件，分为以下子目录：
		- androidTest/ 包含在 Android 设备上运行的仪器测试的代码。如需了解详细信息，请参阅 Android 测试文档。
		- main/ 包含“主”源集文件：所有构建变体共享的 Android 代码和资源（其他构建变体的文件位于同级目录中，例如调试构建类型的文件位于 src/debug/ 中）。
  			- AndroidManifest.xml 说明应用及其每个组件的性质。如需了解详细信息，请参阅 AndroidManifest.xml 文档。
			- java/ 包含 Java 代码源。
			- jni/ 包含使用 Java 原生接口 (JNI) 的原生代码。如需了解详细信息。
			- gen/ 包含 Android Studio 生成的 Java 文件，例如您的 R.java 文件以及从 AIDL 文件创建的接口。
			- res/ 包含应用资源，例如可绘制对象文件、布局文件和 UI 字符串。如需了解详细信息，请参阅应用资源。
			- assets/ 包含应原封不动地编译到 .apk 文件中的文件。您可以使用 URI 像浏览典型文件系统一样浏览此目录，以及使用 AssetManager 以字节流形式读取文件。例如，此位置非常适合纹理和游戏数据。
		- test/ 包含在您的主机 JVM 上运行的本地测试的代码。
	- build.gradle（模块） 定义模块特定的构建配置
	- proguard-rules.pro 用于指定代码混淆规则
- gradle 包含gradle wrapper.jar以及gradle-wrapper.properties,前者作用是简化Gradle本身的安装、部署,后者指明项目需要什么版本的Gradle，从哪里下载该版本的Gradle，下载下来放到哪里
- build.gradle（项目） 定义适用于所有模块的构建配置。此文件已集成到项目中，因此您应当在所有其他源代码的修订控制中保留这个文件
- gradle.properties 全局的gradle配置文件，会影响到项目中所有的gradle编译脚本
- setting.gradle 指明项目中引入的模块
- local.properties 指明本机中的SDK路径
- .iml文件 由IDE自动生成的文件
- gradlew和gradlew.bat 用于在命令行界面执行gradle命令，前者用于Unix（类Unix）系统，后者用于Windows